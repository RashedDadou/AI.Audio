# Karbouji Crystal 2026  
**Local-first Levantine Arabic Text-to-Speech & Voice Processing Toolkit**

Karbouji is an open-source, offline-capable audio processing pipeline with strong emphasis on high-quality **Levantine Arabic (Shami)** text-to-speech synthesis, combined with modern noise reduction and optional speech recognition capabilities.

### Core Technologies & Models (as of 18 june 2025)

| Component                  | Technology / Model                              | Purpose                                      | Status       | Offline? | Notes / Source                              |
|----------------------------|--------------------------------------------------|----------------------------------------------|--------------|----------|---------------------------------------------|
| Primary TTS                | Facebook MMS-TTS (facebook/mms-tts-ara)         | High-quality Levantine Arabic synthesis      | Primary      | Yes      | Best currently available open Arabic TTS    |
| Secondary TTS              | Facebook MMS-TTS (facebook/mms-tts-eng)         | English fallback                             | Optional     | Yes      | Requires separate model download            |
| Language Detection         | Simple rule-based + character range detection   | Auto Arabic ↔ English switching              | Built-in     | Yes      | Very lightweight                            |
| Noise Reduction / Enhancement | DeepFilterNet3 (df)                           | Aggressive real-time noise suppression       | Active       | Yes      | Excellent studio-like cleanup               |
| Speech Recognition (STT)   | OpenAI Whisper (small or medium)                | Arabic + Levantine dialect transcription     | Optional     | Yes      | whisper-small ≈ 150–200 MB                  |
| Advanced Source Separation | Demucs (htdemucs)                               | Music/vocal separation (4–6 stems)           | Optional     | Yes      | Highest quality separation in 2025–2026     |
| Romanization (for TTS)     | uroman.pl + intelligent fallback mapping        | Arabic → Latin script for better phonetization | Built-in     | Yes      | Improves pronunciation significantly        |
| Audio Playback             | sounddevice + scipy signal processing           | Low-latency playback with speed adjustment   | Built-in     | Yes      | Female voice uses gentler speed factor      |

### Key Design Characteristics

- **Fully local & offline-first** — no cloud dependencies required for core functionality
- Single central class `AudioProcessor` with versatile `process()` method handling:
  - Text → Speech (TTS)
  - Audio file → Cleaned audio
  - Audio file → Transcription (STT)
  - Real-time microphone listening → text
- Modern dark-themed bilingual GUI (Tkinter) with Arabic/English interface switching
- Long-text handling via intelligent sentence-based chunking & concatenation
- Comprehensive session logging + fallback logger + end-of-session reports

### Current Strengths (early 2026 perspective)

- One of the highest quality **open-source Levantine Arabic TTS** implementations available
- Excellent real-world noise robustness thanks to DeepFilterNet3
- Good dialect tolerance in Whisper small/medium for everyday Shami speech
- Completely self-contained after initial model download (no pip installs during runtime)

### Current Limitations

- No fine-tuned/custom voices yet (pure MMS-TTS out-of-the-box)
- Whisper small can still struggle with very heavy accents or noisy environments
- Demucs is memory hungry (especially on CPU)
- GUI is Tkinter-based (functional but not as polished as Qt or web-based interfaces)

### Installation & Quick Start

```bash
# Core dependencies
pip install torch torchaudio transformers soundfile sounddevice numpy scipy pillow

# Recommended extras
pip install openai-whisper     # speech recognition
pip install demucs             # advanced source separation
pip install df                 # DeepFilterNet3 enhancement

Required models (download manually):facebook/mms-tts-ara
facebook/mms-tts-eng (optional)

Here are all the Python libraries required by the current version of Karbouji Crystal 2026 project (as of January 2026):Core / Always Requiredbash

torch
torchaudio
transformers
soundfile
sounddevice
numpy
scipy
pillow          # for loading icons/logo in GUI

Strongly Recommended / Used in Main Featuresbash

openai-whisper     # for speech recognition (STT)
df                 # DeepFilterNet3 – noise reduction

Optional / Feature-specificbash

demucs             # advanced source separation (vocals/drums/etc.)

Development / Debugging / Utilities (not required for normal usage)bash

# These are useful during development but not needed to run the program:
pydub              # sometimes used in examples or alternative audio handling
tqdm               # optional progress bars (rarely used)

Summary Table – Installation Groups

Group                       Libraries                                                                              Purpose                               Required?
Core                        torch, torchaudio, transformers, soundfile, sounddevice, numpy, scipy, pillow          Basic operation + GUI                 Yes  
Speech Recognition          openai-whisper                                                                         Microphone → Text (Whisper)           Highly recommended
Noise Enhancement           df                                                                                     DeepFilterNet3 – clean audio          Highly recommended 
Source Separation           demucs                                                                                 Music separation (vocals/drums/…)     Optional
Development extras          pydub, tqdm                                                                            Testing & debugging                   Not needed

Typical Full Installation Command (most complete setup)bash

pip install torch torchaudio transformers soundfile sounddevice numpy scipy pillow
pip install openai-whisper df demucs

Note:
The project works offline after downloading the models (MMS-TTS ara/eng + Whisper).
No internet is required during normal usage once everything is installed and models are downloaded.Good luck with the project! 

bash

# Run the desktop interface (recommended)
python bootStarter.py

Project PhilosophyKarbouji aims to provide the best possible open, local, Arabic-first voice technology stack that researchers, accessibility developers, content creators and dialect preservation enthusiasts can use and build upon without cloud dependencies or subscription walls.Built in Damascus/London 2025–2026
© Rashed Dadouch – MIT License




